"use strict";var e,t=require("react-router-dom"),r=(e=require("react"))&&"object"==typeof e&&"default"in e?e.default:e,n=require("technoidentity-utils"),o=require("query-string"),u=r.createContext(void 0);function c(e){var t=r.useContext(u);return null==t?n.fatal("match is null or undefined"):n.cast(e,t.params),t}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)t.indexOf(r=u[n])>=0||(o[r]=e[r]);return o}var s=r.createContext(void 0);function l(){var e=r.useContext(s);return n.verify(null!==e),e}function f(){return l().location}var d=function(){var e=this;this.routeMatched=!1,this.setRouteMatched=function(t){e.routeMatched=t},this.getRouteMatched=function(){return e.routeMatched}},h=function(){if(!(0,l().getRouteMatched)())throw new Error("no route matched");return null},p=function(e){var n=e.children;return r.createElement(t.Route,null,function(e){return r.createElement(s.Provider,{value:a({},e,{},new d)},n,r.createElement(h,null))})};Object.defineProperty(exports,"Link",{enumerable:!0,get:function(){return t.Link}}),Object.defineProperty(exports,"NavLink",{enumerable:!0,get:function(){return t.NavLink}}),Object.defineProperty(exports,"Switch",{enumerable:!0,get:function(){return t.Switch}}),exports.MatchContext=u,exports.Route=function(e){var n=e.component,o=e.render,c=e.children,a=e.exact,s=i(e,["component","render","children","exact"]),f=l().setRouteMatched;return r.createElement(t.Route,Object.assign({},s,{exact:void 0===a||a,render:function(e){return f&&f(!0),r.createElement(u.Provider,{value:e.match},n?r.createElement(n,Object.assign({},e)):o?o(e):c)}}))},exports.Router=function(e){var n=e.variant,o=e.children,u=i(e,["variant","children"]);return r.createElement("browser"===n?t.BrowserRouter:t.HashRouter,Object.assign({},u),r.createElement(p,null,o))},exports.RouterContext=s,exports.SimpleRedirect=function(e){var n=e.from,o=e.to,u=e.exact,c=l().setRouteMatched;return r.createElement(t.Route,{exact:void 0===u||u,path:n,render:function(){return c&&c(!0),r.createElement(t.Redirect,{to:o})}})},exports.removeRouteComponentProps=function(e){return i(e,["match","location","history","staticContext"])},exports.useHistory=function(){return l().history},exports.useLocation=f,exports.useMatch=c,exports.useParams=function(e){return c(e).params},exports.useQuery=function(e){var t=f(),r=o.parse(t.search);return n.cast(e,r),r},exports.useRouter=l;
//# sourceMappingURL=devfractal-router.cjs.production.min.js.map
